<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <title>Ø³Ø§Ø®Øª Ú©Ø§Ø±Øª ÙˆØ±Ù‚ Ø²Ù† </title>
  <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazir-font@v30.1.0/dist/font-face.css" rel="stylesheet" />
  <style>
    body {
      margin: 0;
      font-family: 'Vazir', sans-serif;
      background: linear-gradient(to right, #0f2027, #203a43, #2c5364);
      color: white;
      padding: 20px;
    }

    h1 {
      text-align: center;
      margin-bottom: 20px;
    }

    textarea {
      width: 100%;
      padding: 5px;
      border-radius: 8px;
      border: none;
      font-family: inherit;
      margin-top: 10px;
    }

    button {
      margin-top: 20px;
      padding: 10px 20px;
      background: linear-gradient(to right, #00c6ff, #0072ff);
      border: none;
      color: white;
      font-size: 16px;
      border-radius: 30px;
      cursor: pointer;
    }

    .scroll-container {
      display: flex;
      overflow-x: auto;
      gap: 20px;
      margin-top: 40px;
      scroll-snap-type: x mandatory;
      padding-bottom: 20px;
    }

    .card {
      flex: 0 0 300px;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 20px;
      scroll-snap-align: center;
      box-shadow: 0 0 20px rgba(0,255,255,0.2);
      text-align: center;
    }

    .card h3 {
      margin-top: 0;
      font-size: 20px;
    }

    .card p {
      font-size: 14px;
      color: #ccc;
    }

    .card a {
      display: inline-block;
      margin-top: 10px;
      padding: 8px 16px;
      font-size: 14px;
      border-radius: 20px;
      background: linear-gradient(to right, #ffb347, #ffcc33);
      color: black;
      text-decoration: none;
    }

    .scroll-container::-webkit-scrollbar {
      display: none;
    }

    .media {
      margin-bottom: 10px;
    }

    .media img, .media video, .media audio {
      max-width: 100%;
      border-radius: 12px;
    }

    pre {
      background-color: rgba(0,0,0,0.3);
      padding: 15px;
      border-radius: 10px;
      margin-top: 30px;
      overflow-x: auto;
      direction: ltr;
      font-size: 12px;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>
  <h1>Ø³Ø§Ø®Øª ØµÙØ­Ù‡ ÙˆØ±Ù‚ Ø²Ù†</h1>

  <textarea id="cardInput" rows="6" placeholder=" Ø¹Ù†ÙˆØ§Ù† | ØªÙˆØ¶ÛŒØ­ | Ø¯Ú©Ù…Ù‡ <Ù„ÛŒÙ†Ú© Ø¯Ú©Ù…Ù‡> | Ù„ÛŒÙ†Ú© ÙØ§ÛŒÙ„ Ø§Ø®ØªÛŒØ§Ø±ÛŒ"></textarea>
  <button onclick="generate()">Code play</button>

  <div class="scroll-container" id="cardContainer"></div>
  <pre id="htmlOutput"></pre>

  <script>
    function generate() {
      const input = document.getElementById('cardInput').value.trim().split('\n');
      const container = document.getElementById('cardContainer');
      const output = document.getElementById('htmlOutput');

      container.innerHTML = '';
      let htmlCards = '';

      // Ø¨Ø±Ø±Ø³ÛŒ Ø§Ù…Ø¶Ø§
      let signature = ' Â©Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ ØªÙˆØ³Ø· Ø³Ø§Ø²Ù…Ø§Ù† ÙÙ†Ø§ÙˆØ±ÛŒ Ù¾Ù†Ø¬Ø§Ù‡ ØªÙˆÙ…Ø§Ù†ÛŒ';
      const lastLine = input[input.length - 1];
      if (lastLine.startsWith('_')) {
        const sigText = lastLine.slice(1).trim();
        if (sigText.endsWith('â„¢') || sigText.endsWith('Â®') || sigText.endsWith('Â©')) {
          signature = sigText;
        }
        input.pop(); // Ø­Ø°Ù Ø®Ø· Ø§Ù…Ø¶Ø§ Ø§Ø² ÙˆØ±ÙˆØ¯ÛŒ Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§
      }

      input.forEach(line => {
        if (!line.includes('|') || !line.includes('<')) return;

        let parts = line.split('|').map(s => s.trim());
        let title = parts[0];
        let desc = parts[1];
        let [btnText, btnLink] = parts[2].split('<');
        btnText = btnText.trim();
        btnLink = btnLink.replace('>', '').trim();
        let mediaLink = parts[3] ? parts[3].trim() : '';

        let mediaHTML = '';
        if (mediaLink) {
          if (mediaLink.endsWith('.png') || mediaLink.endsWith('.jpg') || mediaLink.endsWith('.jpeg')) {
            mediaHTML = `<div class="media"><img src="${mediaLink}" alt=""></div>`;
          } else if (mediaLink.endsWith('.mp4')) {
            mediaHTML = `<div class="media"><video src="${mediaLink}" controls></video></div>`;
          } else if (mediaLink.endsWith('.mp3')) {
            mediaHTML = `<div class="media"><audio src="${mediaLink}" controls></audio></div>`;
          } else if (mediaLink.endsWith('.gpg')) {
            mediaHTML = `<div class="media"><p style="font-size:12px;color:#aaa;">ğŸ” ÙØ§ÛŒÙ„ Ø±Ù…Ø²Ú¯Ø°Ø§Ø±ÛŒâ€ŒØ´Ø¯Ù‡: <a href="${mediaLink}" target="_blank">Ø¯Ø§Ù†Ù„ÙˆØ¯</a></p></div>`;
          }
        }

        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `
          ${mediaHTML}
          <h3>${title}</h3>
          <p>${desc}</p>
          <a href="${btnLink}" target="_blank">${btnText}</a>
        `;
        container.appendChild(card);

        htmlCards += `
  <div class="card">
    ${mediaHTML}
    <h3>${title}</h3>
    <p>${desc}</p>
    <a href="${btnLink}" target="_blank">${btnText}</a>
  </div>\n`;
      });

      output.textContent = `<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <title>ØµÙØ­Ù‡ ÙˆØ±Ù‚ Ø²Ù† Ø³Ø§Ø²</title>
  <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazir-font@v30.1.0/dist/font-face.css" rel="stylesheet" />
  <style>
    /* Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ Ù…Ø«Ù„ Ø¨Ø§Ù„Ø§ */
    body {
      margin: 0;
      font-family: 'Vazir', sans-serif;
      background: linear-gradient(to right, #0f2027, #203a43, #2c5364);
      color: white;
      padding: 20px;
    }
    .scroll-container {
      display: flex;
      overflow-x: auto;
      gap: 20px;
      scroll-snap-type: x mandatory;
      padding-bottom: 20px;
    }
    .card {
      flex: 0 0 300px;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 20px;
      scroll-snap-align: center;
      box-shadow: 0 0 20px rgba(0,255,255,0.2);
      text-align: center;
      color: white;
    }
    .card h3 {
      margin-top: 0;
      font-size: 20px;
    }
    .card p {
      font-size: 14px;
      color: #ccc;
    }
    .card a {
      display: inline-block;
      margin-top: 10px;
      padding: 8px 16px;
      font-size: 14px;
      border-radius: 20px;
      background: linear-gradient(to right, #ffb347, #ffcc33);
      color: black;
      text-decoration: none;
    }
    .media {
      margin-bottom: 10px;
    }
    .media img, .media video, .media audio {
      max-width: 100%;
      border-radius: 12px;
    }
    .scroll-container::-webkit-scrollbar {
      display: none;
    }
  </style>
</head>
<body>
  <h1 style="text-align:center;"></h1>
  <div class="scroll-container">
${htmlCards}</div>
  <p style="text-align:center; margin-top:40px; font-size:13px; color:#aaa;">Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ ØªÙˆØ³Ø· Ø³Ø§Ø²Ù…Ø§Ù† ÙÙ†Ø§ÙˆØ±ÛŒ Ù¾Ù†Ø¬Ø§Ù‡ ØªÙˆÙ…Ø§Ù†ÛŒ Â©</p>
</body>
</html>`;
    }
  </script>
<div style="text-align:center; font-size:14px; margin-top:40px; margin-bottom:10px;"> .â€ŒØªÙ…Ø§Ù… Ø­Ù‚ÙˆÙ‚ ØªÙˆØ³Ø· Ø³Ø§Ø²Ù…Ø§Ù† ÙÙ†Ø§ÙˆØ±ÛŒ Ù¾Ù†Ø¬Ø§Ù‡ ØªÙˆÙ…Ø§Ù†ÛŒ Ù…Ø­ÙÙˆØ¸ Ø§Ø³Øª. Ù‡Ø±Ú¯ÙˆÙ†Ù‡ Ú©Ù¾ÛŒ Ø¨Ø±Ø¯Ø§Ø±ÛŒ Ø§Ø² Ø·Ø±Ø­ *Ø­ØªÛŒ* Ø´Ø±Ø¹Ø§Ù‹ Ø­Ø±Ø§Ù… Ø§Ø³Øª</div>
  
  <p style="text-align:center; margin-top:40px; font-size:13px; color:#aaa;">Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ ØªÙˆØ³Ø· Ø³Ø§Ø²Ù…Ø§Ù† ÙÙ†Ø§ÙˆØ±ÛŒ Ù¾Ù†Ø¬Ø§Ù‡ ØªÙˆÙ…Ø§Ù†ÛŒ Â© Û±Û´Û°Û´ - Û±Û´Û°Ûµ </p>
</body>
</html>
